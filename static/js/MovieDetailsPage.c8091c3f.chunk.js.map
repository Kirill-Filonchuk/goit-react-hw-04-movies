{"version":3,"sources":["utils/apiService.js","views/MovieDetailsPage/MovieDetailsPage.module.css","views/MovieDetailsPage/MovieDetailsPage.jsx"],"names":["axios","defaults","baseURL","KEY","getTrandingMovies","a","get","response","getSearchMovies","query","getMoviesById","id","getMoviesCredits","getMoviesRewiews","module","exports","Reviews","lazy","Cast","MovieDetails","useState","movieInfo","setMovieInfo","useRouteMatch","url","path","location","useLocation","history","useHistory","movieId","useParams","useEffect","then","res","className","s","container","button","type","onClick","push","state","from","card","src","data","poster_path","alt","original_title","overview","vote_average","genres","map","index","name","addInform","itemInform","to","pathname","fallback"],"mappings":"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","file":"static/js/MovieDetailsPage.c8091c3f.chunk.js","sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = `https://api.themoviedb.org/3/`;\n\nconst KEY = '4e444e8999b67eb8a9fe595c0fd531aa';\n\nasync function getTrandingMovies() {\n  const response = await axios.get(`trending/movie/week?api_key=${KEY}`);\n  return response;\n}\n\nasync function getSearchMovies(query) {\n  const response = await axios.get(\n    `search/movie?api_key=${KEY}&language=en-US&include_adult=false&query=${query}`,\n  );\n  return response;\n}\n\nasync function getMoviesById(id) {\n  const response = await axios.get(`movie/${id}?api_key=${KEY}`);\n  return response;\n}\n\nasync function getMoviesCredits(id) {\n  const response = await axios.get(`movie/${id}/credits?api_key=${KEY}`);\n  return response;\n}\n\nasync function getMoviesRewiews(id) {\n  const response = await axios.get(`movie/${id}/reviews?api_key=${KEY}`);\n  return response;\n}\n\nexport { getTrandingMovies, getSearchMovies, getMoviesById, getMoviesCredits, getMoviesRewiews };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MovieDetailsPage_container__1cUUn\",\"button\":\"MovieDetailsPage_button__IW-fv\",\"card\":\"MovieDetailsPage_card__WYDo1\",\"genres\":\"MovieDetailsPage_genres__2pU71\",\"addInform\":\"MovieDetailsPage_addInform__3XxNp\",\"itemInform\":\"MovieDetailsPage_itemInform__3d6MB\"};","import { getMoviesById } from '../../utils/apiService';\r\nimport { useState, useEffect, Suspense, lazy } from 'react';\r\nimport { useRouteMatch, useLocation, useHistory, Link, Route, Switch, useParams } from 'react-router-dom';\r\nimport s from './MovieDetailsPage.module.css'\r\n\r\n// import Reviews from '../../components/Reviews/Reviews';\r\n// import Cast from '../../components/Cast/Cast';\r\nconst Reviews = lazy(() => import('../../components/Reviews/Reviews' /* webpackChunkName: \"Reviews\" */))\r\nconst Cast = lazy(() => import('../../components/Cast/Cast' /* webpackChunkName: \"Cast\" */))\r\n\r\nexport default function MovieDetails() {\r\n  const [movieInfo, setMovieInfo] = useState(null);\r\n\r\n  const {url, path} = useRouteMatch();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const { movieId } = useParams();\r\n\r\n  useEffect(() => {\r\n    getMoviesById(movieId).then(res => {\r\n      // console.log(res);\r\n      setMovieInfo(res);\r\n    });\r\n  }, [movieId]);\r\n    // console.log('location', location);\r\n  // console.log('history',history);\r\n  // console.log('location.state.search', location.state.search);\r\n \r\nconst btnGoBack = () => {\r\n    history.push(location?.state?.from ?? \"/\");\r\n  };\r\n \r\n  return (\r\n    <div className={s.container}>\r\n      <button\r\n        className={s.button}\r\n        type=\"button\"\r\n        onClick={btnGoBack}\r\n      >\r\n        Go Back\r\n      </button>\r\n{/*       \r\n      <h1>MovieDetails</h1> */}\r\n      {movieInfo && (\r\n        <div className={s.card}>\r\n          <img\r\n            src={\r\n              movieInfo.data.poster_path\r\n                ? `https://image.tmdb.org/t/p/w300${movieInfo.data.poster_path}`\r\n                : 'https://media.comicbook.com/files/img/default-movie.png'\r\n            }\r\n            alt=\"\"\r\n          />{' '}\r\n          <h2>{movieInfo.data.original_title}</h2>\r\n          <p>{movieInfo.data.overview}</p>\r\n          <p>\r\n            <span>User Score - </span>\r\n            {movieInfo.data.vote_average} %\r\n          </p>\r\n         \r\n            <h3>Genres</h3>\r\n            <ul className={s.genres}>\r\n              {movieInfo.data.genres.map(({ name }, index) => (\r\n                <li key={index}>{name}</li>\r\n              ))}\r\n            </ul>\r\n          \r\n        </div>\r\n      )}\r\n\r\n      <hr />\r\n      <h2>Additional information</h2>\r\n        <ul className={s.addInform}>\r\n          <li key={1} className={s.itemInform}>\r\n            <Link\r\n              to={{\r\n                pathname: `${url}/cast`,\r\n                state: {\r\n                  // from: location?.state?.from ?? \"/\",\r\n                  from: location.state? location.state.from : '/',\r\n                },\r\n              }}\r\n            >\r\n              Cast\r\n            </Link>\r\n          </li>\r\n          <li key={2} className={s.itemInform}>\r\n            <Link\r\n              to={{\r\n                pathname: `${url}/reviews`,\r\n                state: {\r\n                  from: location.state? location.state.from : '/',\r\n                },\r\n              }}\r\n            >\r\n              Reviews\r\n            </Link>\r\n          </li>\r\n      </ul>\r\n      <hr />\r\n      {/* <Cast id={movieId} /> */}\r\n      <Suspense fallback={<h1>Loading...</h1>}>\r\n        <Switch>\r\n        <Route path={`${path}/cast/`}>\r\n        {/* <Route path=\"/movie/:movieId/cast\" exact> */}\r\n            <Cast id={movieId} />\r\n          </Route>\r\n        <Route path={`${path}/reviews`}>\r\n        {/* <Route path=\"/movie/:movieId/reviews\" exact> */}\r\n            <Reviews id={movieId} />\r\n        </Route>\r\n        </Switch>\r\n        </Suspense>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}