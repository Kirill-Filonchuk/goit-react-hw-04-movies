(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{50:function(e,t,c){},51:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(20),s=c.n(r),i=c(13),o=(c(50),c(51),c(4)),j=c(79),l=c(94),u=c(2);function h(){var e=Object(o.g)();return Object(u.jsx)("div",{children:Object(u.jsxs)(l.a,{variant:"contained",color:"primary","aria-label":"contained primary button group",children:[Object(u.jsx)(i.c,{style:{textDecoration:"none"},to:{pathname:"/",state:{from:e}},children:Object(u.jsx)(j.a,{children:"Home"})}),Object(u.jsx)(i.c,{style:{textDecoration:"none"},to:{pathname:"/movies",state:{from:null!==e&&void 0!==e?e:"/"}},children:Object(u.jsx)(j.a,{children:"Movies"})})]})})}var b=c(15);function d(e){var t=e.movies,c=(e.page,Object(o.g)());return Object(u.jsx)("ul",{children:t.map((function(e){var t=e.id,n=e.original_title;return Object(u.jsx)("li",{children:Object(u.jsx)(i.c,{to:{pathname:"/movie/".concat(t),state:{from:c}},children:Object(u.jsx)("p",{children:n})})},t)}))})}var p=c(16),O=c.n(p),f=c(22),m=c(19),x=c.n(m);x.a.defaults.baseURL="https://api.themoviedb.org/3/";var v="4e444e8999b67eb8a9fe595c0fd531aa";function g(){return(g=Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("trending/movie/week?api_key=".concat(v));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(f.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("search/movie?api_key=".concat(v,"&language=en-US&include_adult=false&query=").concat(t));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(f.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("movie/".concat(t,"?api_key=").concat(v));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(f.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("movie/".concat(t,"/credits?api_key=").concat(v));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(f.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("movie/".concat(t,"/reviews?api_key=").concat(v));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){(function(){return g.apply(this,arguments)})().then((function(e){return a(e.data.results)}))}),[]),console.log("movies",c),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Home Page"}),Object(u.jsx)(d,{movies:c,page:"/"})]})}var C=c(33);function E(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(b.a)(r,2),i=s[0],j=s[1],l=Object(o.f)(),h=Object(o.g)(),p=new URLSearchParams(h.search).get("query")||"";console.log("location",h),console.log("query",c),console.log("searchQuery",p),Object(n.useEffect)((function(){""!==c&&a(p),""!==p&&function(e){""===e.trim?a([]):function(e){return y.apply(this,arguments)}(e).then((function(e){return j(e.data.results)}))}(p)}),[p]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Movies"}),Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),j([]),l.push(Object(C.a)(Object(C.a)({},h),{},{search:"query=".concat(c)}))},children:[Object(u.jsx)("button",{type:"submit",className:"SearchFormButton",children:Object(u.jsx)("span",{className:"SearchFormButtonLabel",children:"Search"})}),Object(u.jsx)("input",{className:"SearchFormInput",type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){a(e.target.value)}})]})}),Object(u.jsx)("hr",{}),Object(u.jsx)(d,{movies:i})]})}function I(e){var t=e.id,c=Object(n.useState)(null),a=Object(b.a)(c,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){(function(e){return S.apply(this,arguments)})(t).then((function(e){console.log("MovRes",e),s(e)}))}),[t]),console.log("moviesReviews",r),Object(u.jsx)("ul",{children:r&&r.data.results.map((function(e){var t=e.content,c=e.index;return Object(u.jsx)("li",{children:t},c)}))})}function N(e){var t=e.id,c=Object(n.useState)(null),a=Object(b.a)(c,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){(function(e){return k.apply(this,arguments)})(t).then((function(e){console.log("movCast",e),s(e)}))}),[t]),console.log("moviesCast",r),Object(u.jsxs)("ul",{children:[Object(u.jsx)("p",{children:"Hello"}),r&&r.data.cast.map((function(e,t){var c=e.character,n=e.name,a=e.profile_path;return Object(u.jsxs)("li",{children:[Object(u.jsx)("img",{style:{width:"100px",display:"block"},src:a?"https://image.tmdb.org/t/p/w300".concat(a):"https://media.comicbook.com/files/img/default-person.png",alt:n}),Object(u.jsx)("li",{children:n}),Object(u.jsxs)("p",{children:["Character: ",c]})]},t)}))]})}function M(){var e=Object(n.useState)(null),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(o.i)(),s=r.url,j=(r.path,Object(o.g)()),l=Object(o.f)(),h=Object(o.h)().movieId;Object(n.useEffect)((function(){(function(e){return w.apply(this,arguments)})(h).then((function(e){console.log(e),a(e)}))}),[]),console.log("location",j),console.log("history",l),console.log("location.state.search",j.state.search);return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{type:"button",onClick:function(){var e,t;l.push(null!==(e=null===j||void 0===j||null===(t=j.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/")},children:"Go Back"}),Object(u.jsx)("h1",{children:"MovieDetails"}),c&&Object(u.jsxs)("div",{children:[Object(u.jsx)("img",{src:c.data.poster_path?"https://image.tmdb.org/t/p/w300".concat(c.data.poster_path):"https://media.comicbook.com/files/img/default-movie.png",alt:""})," ",Object(u.jsx)("p",{children:c.data.original_title})," ",Object(u.jsx)("p",{children:c.data.overview}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:"User Score - "}),c.data.vote_average," %"]}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{children:"Genres"}),Object(u.jsx)("ul",{children:c.data.genres.map((function(e,t){var c=e.name;return Object(u.jsx)("li",{children:c},t)}))})]})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("h2",{children:"Additional information"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{to:{pathname:"".concat(s,"/cast"),state:{from:j.state?j.state.from:"/"}},children:"Cast"})}),Object(u.jsx)("li",{children:Object(u.jsx)(i.b,{to:{pathname:"".concat(s,"/reviews"),state:{from:j.state?j.state.from:"/"}},children:"Reviews"})})]}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{path:"/movie/:movieId/cast",exact:!0,children:Object(u.jsx)(N,{id:h})}),Object(u.jsx)(o.a,{path:"/movie/:movieId/reviews",exact:!0,children:Object(u.jsx)(I,{id:h})})]})]})}var R=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(h,{}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",children:Object(u.jsx)(_,{})}),Object(u.jsx)(o.a,{path:"/movies",children:Object(u.jsx)(E,{})}),Object(u.jsx)(o.a,{path:"/movie/:movieId",children:Object(u.jsx)(M,{})})]})]})};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(R,{})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.c23fa65a.chunk.js.map