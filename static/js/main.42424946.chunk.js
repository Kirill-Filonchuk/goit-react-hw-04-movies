(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{50:function(e,t,c){},51:function(e,t,c){},78:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(20),s=c.n(r),o=c(13),i=(c(50),c(51),c(4)),l=c(79),u=c(94),j=c(2);function h(){var e=Object(i.g)();return Object(j.jsx)("div",{children:Object(j.jsxs)(u.a,{variant:"contained",color:"primary","aria-label":"contained primary button group",children:[Object(j.jsx)(o.c,{style:{textDecoration:"none"},to:{pathname:"/",state:{from:e}},children:Object(j.jsx)(l.a,{children:"Home"})}),Object(j.jsx)(o.c,{style:{textDecoration:"none"},to:{pathname:"/movies",state:{from:null!==e&&void 0!==e?e:"/"}},children:Object(j.jsx)(l.a,{children:"Movies"})})]})})}var b=c(15);function d(e){var t=e.movies,c=e.page;return Object(j.jsx)("ul",{children:t.map((function(e){var t=e.id,n=e.original_title;return Object(j.jsx)("li",{children:Object(j.jsx)(o.c,{to:{pathname:"/movie/".concat(t),state:{from:c}},children:Object(j.jsx)("p",{children:n})})},t)}))})}var p=c(16),O=c.n(p),f=c(22),v=c(19),m=c.n(v);m.a.defaults.baseURL="https://api.themoviedb.org/3/";var x="4e444e8999b67eb8a9fe595c0fd531aa";function g(){return(g=Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("trending/movie/week?api_key=".concat(x));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(f.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("search/movie?api_key=".concat(x,"&language=en-US&include_adult=false&query=").concat(t));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(f.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("movie/".concat(t,"?api_key=").concat(x));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(f.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("movie/".concat(t,"/credits?api_key=").concat(x));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(f.a)(O.a.mark((function e(t){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("movie/".concat(t,"/reviews?api_key=").concat(x));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){(function(){return g.apply(this,arguments)})().then((function(e){return a(e.data.results)}))}),[]),console.log("movies",c),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Home Page"}),Object(j.jsx)(d,{movies:c,page:"/"})]})}var C=c(33);function N(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)([]),s=Object(b.a)(r,2),o=s[0],l=s[1],u=Object(i.f)(),h=Object(i.g)(),p=new URLSearchParams(h.search).get("query")||"";console.log("location",h),console.log("query",c),console.log("searchQuery",p),Object(n.useEffect)((function(){""!==c&&a(p),""!==p&&function(e){""===e.trim?a([]):function(e){return y.apply(this,arguments)}(e).then((function(e){return l(e.data.results)}))}(p)}),[p]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Movies"}),Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),l([]),u.push(Object(C.a)(Object(C.a)({},h),{},{search:"query=".concat(c)}))},children:[Object(j.jsx)("button",{type:"submit",className:"SearchFormButton",children:Object(j.jsx)("span",{className:"SearchFormButtonLabel",children:"Search"})}),Object(j.jsx)("input",{className:"SearchFormInput",type:"text",autocomplete:"off",autofocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){a(e.target.value)}})]})}),Object(j.jsx)("button",{type:"button",onClick:function(){var e,t;u.push(null!==(e=null===h||void 0===h||null===(t=h.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/")},children:"Go Back"}),Object(j.jsx)("hr",{}),Object(j.jsx)(d,{movies:o,page:"/movies"})]})}function B(e){var t=e.id,c=Object(n.useState)(null),a=Object(b.a)(c,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){(function(e){return S.apply(this,arguments)})(t).then((function(e){console.log("MovRes",e),s(e)}))}),[t]),console.log("moviesReviews",r),Object(j.jsx)("ul",{children:r&&r.data.results.map((function(e){var t=e.content,c=e.index;return Object(j.jsx)("li",{children:t},c)}))})}function E(e){var t=e.id,c=Object(n.useState)(null),a=Object(b.a)(c,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){(function(e){return k.apply(this,arguments)})(t).then((function(e){console.log("movCast",e),s(e)}))}),[t]),console.log("moviesCast",r),Object(j.jsxs)("ul",{children:[Object(j.jsx)("p",{children:"Hello"}),r&&r.data.cast.map((function(e,t){var c=e.character,n=e.name,a=e.profile_path;return Object(j.jsxs)("li",{children:[Object(j.jsx)("img",{style:{width:"100px",display:"block"},src:a?"https://image.tmdb.org/t/p/w300".concat(a):"https://media.comicbook.com/files/img/default-person.png",alt:n}),Object(j.jsx)("li",{children:n}),Object(j.jsxs)("p",{children:["Character: ",c]})]},t)}))]})}function M(){var e,t,c,a,r=Object(n.useState)(null),s=Object(b.a)(r,2),l=s[0],u=s[1],h=Object(i.i)(),d=h.url,p=h.path,O=Object(i.g)(),f=Object(i.f)(),v=Object(i.h)().movieId;Object(n.useEffect)((function(){(function(e){return w.apply(this,arguments)})(v).then((function(e){console.log(e),u(e)}))}),[]),console.log("location",O),console.log("history",f),console.log("location.state.search",O.state.search);return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{type:"button",onClick:function(){if(O&&O.state&&O.state.from)return f.push(O.state.from),void console.log("BTN_history",f);f.push("/")},children:"Go Back"}),Object(j.jsx)("h1",{children:"MovieDetails"}),l&&Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:l.data.poster_path?"https://image.tmdb.org/t/p/w300".concat(l.data.poster_path):"https://media.comicbook.com/files/img/default-movie.png",alt:""})," ",Object(j.jsx)("p",{children:l.data.original_title})," ",Object(j.jsx)("p",{children:l.data.overview}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"User Score - "}),l.data.vote_average," %"]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"Genres"}),Object(j.jsx)("ul",{children:l.data.genres.map((function(e,t){var c=e.name;return Object(j.jsx)("li",{children:c},t)}))})]})]}),Object(j.jsx)("hr",{}),Object(j.jsx)("h2",{children:"Additional information"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:{pathname:"".concat(d,"/cast"),state:{from:null!==(e=null===O||void 0===O||null===(t=O.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/"}},children:"Cast"})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{to:{pathname:"".concat(d,"/reviews"),state:{from:null!==(c=null===O||void 0===O||null===(a=O.state)||void 0===a?void 0:a.from)&&void 0!==c?c:"/"}},children:"Reviews"})})]}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{path:"".concat(p,"/cast/"),children:Object(j.jsx)(E,{id:v})}),Object(j.jsx)(i.a,{path:"".concat(p,"/reviews"),children:Object(j.jsx)(B,{id:v})})]})]})}var R=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(h,{}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/",children:Object(j.jsx)(_,{})}),Object(j.jsx)(i.a,{path:"/movies",children:Object(j.jsx)(N,{})}),Object(j.jsx)(i.a,{path:"/movie/:movieId",children:Object(j.jsx)(M,{})})]})]})};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(o.a,{children:Object(j.jsx)(R,{})})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.42424946.chunk.js.map